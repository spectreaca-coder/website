rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // 강좌 정보 - 모든 사용자 읽기 가능, 인증된 사용자만 쓰기
    match /courses/{courseId} {
      allow read: if true;
      allow write: if request.auth != null;
    }

    // 공지사항 - 모든 사용자 읽기 가능, 인증된 사용자만 쓰기
    match /notices/{noticeId} {
      allow read: if true;
      allow write: if request.auth != null;
    }

    // 강사 정보 - 모든 사용자 읽기 가능, 인증된 사용자만 쓰기
    match /instructors/{instructorId} {
      allow read: if true;
      allow write: if request.auth != null;
    }

    // 강의 정보 - 모든 사용자 읽기 가능, 인증된 사용자만 쓰기
    match /lectures/{lectureId} {
      allow read: if true;
      allow write: if request.auth != null;
    }

    // 수강 신청 - 모든 사용자 읽기/쓰기 가능 (공개 양식)
    match /applications/{applicationId} {
      allow read, write: if true;
    }
  }
}
